<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body></body>

  <script>
    //resolve,reject,all,race
    //resolve=>then  reject=>catch
    // let promsie = new Promise((resolve, reject) => {
    //   resolve(1111);
    // });

    // promsie
    //   .then(response => {
    //     console.log("成功！");
    //     console.log(response);
    //   })
    //   .catch(err => {
    //     console.log("失败");
    //   });

    //链式
    function Promise1(status) {
      return new Promise((resolve, reject) => {
        if (status == true) {
          console.log("promsie1执行成功");
          resolve("promsie1返回数据成功");
        } else {
          console.log("promsie1执行失败");
          reject("promsie1返回数据失败");
        }
      });
    }

    function Promise2(status) {
      return new Promise((resolve, reject) => {
        if (status == true) {
          console.log("promsie2执行成功");
          resolve("promsie2返回数据成功");
        } else {
          console.log("promsie2执行失败");
          reject("promsie2返回数据失败");
        }
      });
    }

    function Promise3(status) {
      return new Promise((resolve, reject) => {
        if (status == true) {
          console.log("promsie3执行成功");
          resolve("promsie3返回数据成功");
        } else {
          console.log("promsie3执行失败");
          reject("promsie3返回数据失败");
        }
      });
    }

    function Promise4(status) {
      return new Promise((resolve, reject) => {
        if (status == true) {
          console.log("promsie4执行成功");
          resolve("promsie4返回数据成功");
        } else {
          console.log("promsie4执行失败");
          reject("promsie4返回数据失败");
        }
      });
    }

    // Promise1(true)
    //   .then(response => {
    //     console.log(response);
    //     return Promise4(true);
    //   })
    //   .then(response => {
    //     console.log(response);
    //     return Promise3(true);
    //   })
    //   .then(response => {
    //     console.log(response);
    //   })
    //   .catch(error => {
    //     console.log(error);
    //   });

    //all()方法 传入数组promise函数 当函数全部执行成功 进入then块，只要有一项没执行成功就进入catch块
    // Promise.all([Promise1(true), Promise2(false), Promise3(true)])
    //   .then(response => {
    //     console.log("全部执行成功了！");
    //   })
    //   .catch(error => {
    //     console.log("有地方出错误了！");
    //   });

    //race()方法 传入数组类型的promise函数 只要第一个promise函数执行成功将进入then块，反之如果第一个promise函数执行失败则直接进入catch块
    Promise.race([Promise1(true), Promise2(false), Promise3(true)])
      .then(response => {
        console.log("成功了！");
      })
      .catch(error => {
        console.log("错误了！");
      });
  </script>
</html>
